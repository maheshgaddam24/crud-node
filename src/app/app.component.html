<div class="container-fluid p-0">
  <div class="header">
    <h1 class="title">Crud Operations Using Node JS</h1>
  </div>
  <div class="body d-flex flex-column">
    <div class="py-1 d-flex justify-content-end">
      <button type="button" class="btn btn-dark" 
        (click)="openEmployeeModal(create_employee)">Create</button>
    </div>
    <table class="table table-striped table-bordered">
      <thead>
        <tr>
          <th>ID</th>
          <th>Name</th>
          <th>Email</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let employee of employeeDetails">
          <td>{{employee.id}}</td>
          <td>{{employee.name}}</td>
          <td>{{employee.email}}</td>
          <td><button class="btn btn-primary" (click)="openUpdateEmployeeModal(update_employee,employee)">Update</button></td>
          <td><button class="btn btn-danger" (click)="deleteEmployee(employee.id)">Delete</button></td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<ng-template #create_employee let-modal>
  <div class="modal-header">
    <h3 class="modal-title m-0">Enter Employee Details</h3>
    <button type="button" id="createEmployeeFormModal" class="btn-close" aria-label="Close"
      (click)="closeModal()"></button>
  </div>
  <div class="modal-body">
    <form name="employeeForm" [formGroup]="createEmployeeFrom" (ngSubmit)="createEmployee()">
      <div class="form-group creat-from">
        <label for="employeeName" class="employeeName">Name</label>
        <input type="text" class="form-control createemployee-input" name="employeeName"
          placeholder="Employee Name" formControlName="name" />
      </div>
      <div class="form-group creat-from">
        <label for="employeeEmail">Email</label>
        <input type="text" class="form-control createemployee-input" name="employeeEmail"
          placeholder="Employee Email" formControlName="email" />
      </div>
      <div class="mt-3">
        <button class="btn btn-info py-2" type="submit" data-dismiss="modal">
          Submit
        </button>
      </div>
    </form>
  </div>
</ng-template>

<ng-template #update_employee let-modal>
  <div class="modal-header">
    <h3 class="modal-title m-0">Update Employee Details</h3>
    <button type="button" id="updateEmployeeFormModal" class="btn-close" aria-label="Close"
      (click)="closeModal()"></button>
  </div>
  <div class="modal-body">
    <form name="employeeForm" [formGroup]="updateEmployeeFrom" (ngSubmit)="updateEmployee(id)">
      <div class="form-group creat-from">
        <label for="employeeName" class="employeeName">Name</label>
        <input type="text" class="form-control createemployee-input" name="employeeName"
          formControlName="name" />
      </div>
      <div class="form-group creat-from">
        <label for="employeeEmail">Email</label>
        <input type="text" class="form-control createemployee-input" name="employeeEmail"
          formControlName="email" />
      </div>
      <div class="mt-3">
        <button class="btn btn-info py-2" type="submit" data-dismiss="modal">
          Update
        </button>
      </div>
    </form>
  </div>
</ng-template>
